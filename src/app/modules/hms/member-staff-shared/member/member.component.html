<!-- ==========Member Add Modal======== -->

<ng-template #modalMember let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add New Member</h4>
  </div>
  <div class="modal-body">
    
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="name" class="col-md-3 col-form-label">Member Name <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <input id="name" class="form-control" type="text" [(ngModel)]="objMember.fullName">
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Gender" class="col-md-3 col-form-label">Gender <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <select [(ngModel)]="objMember.gender" name="Gender" class="form-select select-control">
            <option value="0">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Others">Other</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="DOB" class="col-md-3 col-form-label">Date of Birth <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <input id="DOB" class="form-control" type="date" [(ngModel)]="objMember.dateOfBirth">
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Mobile" class="col-md-3 col-form-label">Mobile<span class="required-star">*</span> </label>
        <div class="col-md-9">
          <input id="Mobile" class="form-control" type="text" [(ngModel)]="objMember.mobile">
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Email" class="col-md-3 col-form-label">Email <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <input id="Email" class="form-control" type="email" [(ngModel)]="objMember.email">
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Address" class="col-md-3 col-form-label">Address<span class="required-star">*</span> </label>
        <div class="col-md-9">
          <textarea id="Address" class="form-control" style="height: 80px;" [(ngModel)]="objMember.address"></textarea>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Staus" class="col-md-3 col-form-label">Status <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <select [(ngModel)]="objMember.status" name="Staus" class="form-select select-control">
            <option  *ngFor="let status of lstStatus" [value]="status.value"> {{status.name}}</option>
          </select>
        </div>
      </div>
    </div>
    <hr>
    <div class="col-md-12">
      <h5>Bed Assign</h5>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Staus" class="col-md-3 col-form-label">Branch <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <select [(ngModel)]="objMember.branchId" name="Staus" class="form-select select-control">
            <option  *ngFor="let branch of lstBranch" [value]="branch.branchId"> {{branch.branchName}}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Staus" class="col-md-3 col-form-label">Room <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <select [(ngModel)]="objMember.roomId" name="Staus" class="form-select select-control">
            <option  *ngFor="let room of lstRoom" [value]="room.roomId"> {{room.roomNumber}}</option>
          </select>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="mb-2 row">
        <label for="Staus" class="col-md-3 col-form-label">Bed <span class="required-star">*</span> </label>
        <div class="col-md-9">
          <select [(ngModel)]="objMember.bedId" name="Staus" class="form-select select-control">
            <option  *ngFor="let bed of lstBed" [value]="bed.bedId"> {{bed.bedNumber}}</option>
          </select>
        </div>
      </div>
    </div>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="modalClose()"><i class="fas fa-times"></i>
      Close</button>
    <button type="button" *ngIf="!objMember.memberId" class="btn btn-success" (click)="save()" [disabled]="!(objMember.fullName)"><i class="fas fa-save"></i>
      Save</button>
    <button type="button" *ngIf="objMember.memberId>0"  class="btn btn-success" (click)="update()" [disabled]="!(objMember.fullName)"><i class="fas fa-save"></i>
      Update</button>
  </div>
</ng-template>
<!-- ==========Member Add Modal======== -->

<div class="container-fluid">
  <app-page-title title="Member List"></app-page-title>
  <div class="row">
    <div class="col-md-10 my-1">
      <button (click)="add()" class="btn btn-success me-1"><i class="fa fa-plus"></i> Add New</button>
      <button *ngIf="selectedMember.memberId > 0" (click)="edit()" class="btn btn-primary mx-1"><i
          class="fa fa-edit"></i> Edit</button>
      <button *ngIf="selectedMember.memberId > 0" (click)="deleteData()" class="btn btn-danger mx-1"><i
          class="fa fa-trash"></i> Delete</button>
      <!-- <button (click)="updateOrder()" class="btn btn-dark mx-1"><i class="fa fa-check"></i> Update Order</button> -->
      <!-- <button (click)="onBtnExport()" class="btn btn-outline-info mx-1"><i class="fas fa-file-excel"></i> Excel</button> -->
    </div>

    <div class="col-lg-12">
      <ag-grid-angular style="width: 100%; height: 75vh;" class="ag-theme-alpine" [rowData]="lstMember"
        [columnDefs]="columnDefs" [gridOptions]="gridOptions" (selectionChanged)="onSelect()"
        (gridReady)="onGridReady($event)">
      </ag-grid-angular>
    </div>
  </div>
</div>